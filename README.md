# ANOMALYZE
## Real-Time Log Analysis and Anomaly Detection

This project implements a real-time log analysis and anomaly detection system using Kafka, Spark, PostgreSQL, and Spring Boot. The system is designed to monitor logs generated by multiple microservices in an e-commerce platform, detect anomalies in log data, and store these logs for further analysis and visualization.

## Architecture Overview

The system architecture involves multiple microservices generating logs, Kafka for log streaming, Spark for real-time log analysis, and PostgreSQL for storing logs. When an anomaly is detected, alerts are triggered and stored in PostgreSQL. The system can visualize these logs and anomalies via a dashboard.

![System Architecture](https://www.mermaidchart.com/raw/7f179865-e1d4-47fb-84ac-3048e789d467?theme=light&version=v0.1&format=svg)

## Key Features

1. **Log Generation and Kafka Streaming**:
    - Multiple microservices generate logs with random log levels (INFO, WARN, ERROR).
    - Logs are sent to Kafka topics for further processing.

2. **Real-Time Log Analysis**:
    - Apache Spark Streaming is used to process and analyze logs in real-time.
    - Anomalies such as sudden spikes in ERROR logs are detected.

3. **Anomaly Detection and Alerts**:
    - When an anomaly is detected, an alert is generated and stored.
    - Alerts can trigger actions such as sending an email or visualizing the alert on a dashboard.

4. **Database Storage**:
    - Logs and anomalies are stored in a PostgreSQL database for future retrieval and analysis.

5. **Dashboard for Visualization**:
    - A real-time dashboard displays logs and detected anomalies.
    - The dashboard can show alerts and logs generated by different microservices.

## Technologies Used

- **Spring Boot**: Used for microservices log generation and alert triggering.
- **Kafka**: Handles log streaming from microservices.
- **Apache Spark Streaming**: Processes the log data in real-time and performs anomaly detection.
- **PostgreSQL**: Stores both normal and anomalous logs.
- **Dashboard**: Visualizes logs and anomalies in real-time.

## How to Run

1. **Start Kafka, KafkaUI and PostgreSQL using Docker:**:
   docker-compose up -d

2. **Run Microservices**:
    -    mvn clean package -DskipTests
    -    cd alert-service mvn spring-boot:run
    -    cd anomaly-detector mvn spring-boot:run

3. **Start Dashboard:**:
    -    cd dashboard mvn spring-boot:run

4. **Testing the Application**:
    - Open Dashboard
    - http://127.0.0.1:8085/
    -  Click the "Start" button to start the Order Service.
    -  Set the ERROR rate above 30% and click "Apply".
    -  When anomalies are detected, they will appear in the Alerts tab.
    -  Keep the "Alerts" page open to see real-time alerts.

## Future Enhancements

- Add more complex anomaly detection techniques (e.g., machine learning-based anomaly detection).
- Extend the dashboard to include advanced visualizations like charts and graphs.
- Implement additional log analysis for specific error types such as database errors or authentication failures.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
